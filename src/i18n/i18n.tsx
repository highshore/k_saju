import {
  createContext,
  useCallback,
  useContext,
  useEffect,
  useMemo,
  useState,
} from "react";

type Language = "en" | "ko" | "zh" | "ja" | "es";

type Translations = Record<string, string>;

const TRANSLATIONS: Record<Language, Translations> = {
  en: {
    appName: "K-Saju",
    logo: "K-Saju",
    home: "Home",
    messages: "Messages",
    signIn: "Sign in",
    signOut: "Sign out",
    profile: "Profile",
    language: "Language",
    customerSupport: "Customer Support",
    faq: "FAQ",
    contact: "Contact",
    safety: "Safety",
    about: "About",
    careers: "Careers",
    newsroom: "Newsroom",
    investors: "Investors",
    blog: "Blog",
    forum: "Forum",
    events: "Events",
    partnerships: "Partnerships",
    privacy: "Privacy Policy",
    terms: "Terms of Service",
    cookies: "Cookies Policy",
    compliance: "Compliance",
    allRightsReserved: "All rights reserved.",
    myProfile: "My Profile",
    settings: "Settings",
    logout: "Log out",
    email: "Email",
    password: "Password",
    confirmPassword: "Confirm Password",
    loading: "Loading...",
    logIn: "Log In",
    createAccount: "Create Account",
    or: "OR",
    continueWithGoogle: "Continue with Google",
    continueWithApple: "Continue with Apple",
    continueWithKakao: "Continue with Kakao",
    dontHaveAccount: "Don't have an account?",
    createOne: "Create one",
    alreadyHaveAccount: "Already have an account?",
    logInHere: "Log in",
    liveTranslation: "Live Translation",
    sessionInfo: "Session Info",
    liveTranscription: "Live Transcription",
    start: "Start",
    stop: "Stop",
    speakerAUnderstands: "Speaker A understands",
    speakerBUnderstands: "Speaker B understands",
    webSpeechNotSupported:
      "Your browser may not support real-time transcription (Web Speech API). Basic recording fallback is used.",
    recording: "Recording",
    liveTranslationTitle: "Real-time Translation",
    liveTranslationSubtitle: "AI-powered multilingual communication tool",
    customerLanguageSettings: "Customer Language Settings",
    customerLanguage: "Customer Language",
    customerVoice: "🎤 Customer Voice",
    businessVoice: "🎯 Business Voice",
    waitingMessage: "🎧 Waiting - Press a button to start recording",
    recordingMessage: "Recording {0} ({1} seconds left)",
    secondsLeft: "seconds left",
    noConversationYet: "💬 No conversation yet",
    pressButtonToStart: "Press a button above to start recording",
    testVoiceInput: "[Test] Voice input",
    testVoiceRecorded: "[Test] Voice successfully recorded",
    offlineRecordingComplete: "[Offline] Recording complete",
    offlineRecordingSuccess: "[Offline] Voice successfully recorded",
    // Home page translations
    heroTitle: "Meet Korean Saju Culture\nwith the World",
    heroSubtitle: "Experience traditional Korean Saju culture\nanywhere in the world with AI-based Saju services",
    heroButton: "Start Saju Reading",
    aiServices: "Saju Services",
    todayFortune: "Today's Fortune",
    sajuAnalysis: "Saju Analysis",
    compatibility: "Compatibility",
    nameCreation: "Name Creation",
    popularServices: "Popular Saju Services",
    recommendedBy: "Recommended by K-Saju",
    hotDeals: "Saju Special Offers & Discounts",
    aiSajuAnalysis: "AI Saju Analysis",
    compatibilityAnalysis: "Compatibility Analysis",
    nameCreationService: "Name Creation",
    tarotCard: "Tarot Card",
    todayFortuneService: "Today's Fortune",
    sajuConsultation: "Saju Consultation",
    dreamInterpretation: "Dream Interpretation",
    aiSajuConsultation: "AI Saju Consultation",
    compatibilityAnalysisPro: "Compatibility Analysis Pro",
    nameCreationPro: "Name Creation Pro",
    tarotReading: "Tarot Reading",
    dreamConsultation: "Dream Consultation",
    fortuneAnalysis: "Fortune Analysis",
    sajuMyeongri: "Saju Myeongri",
    sajuPackage: "Saju Package Deal",
    annualSaju: "Annual Saju Subscription",
    newMemberBenefit: "New Member Benefit",
    premiumSaju: "Premium Saju",
    businessSaju: "Business Saju",
    sajuMasterPack: "Saju Master Pack",
    sajuStarterPack: "Saju Starter Pack"
  },
  ko: {
    appName: "케이사주",
    logo: "케이사주",
    home: "홈",
    messages: "메시지",
    signIn: "로그인",
    signOut: "로그아웃",
    profile: "프로필",
    language: "언어",
    customerSupport: "고객 지원",
    faq: "자주 묻는 질문",
    contact: "연락처",
    safety: "안전",
    about: "회사 소개",
    careers: "채용",
    newsroom: "뉴스룸",
    investors: "투자자",
    blog: "블로그",
    forum: "포럼",
    events: "이벤트",
    partnerships: "파트너십",
    privacy: "개인정보처리방침",
    terms: "이용약관",
    cookies: "쿠키 정책",
    compliance: "컴플라이언스",
    allRightsReserved: "모든 권리 보유.",
    myProfile: "내 프로필",
    settings: "설정",
    logout: "로그아웃",
    email: "이메일",
    password: "비밀번호",
    confirmPassword: "비밀번호 확인",
    loading: "로딩 중...",
    logIn: "로그인",
    createAccount: "계정 만들기",
    or: "또는",
    continueWithGoogle: "Google로 이용하기",
    continueWithApple: "Apple로 이용하기",
    continueWithKakao: "카카오로 이용하기",
    dontHaveAccount: "계정이 없으시나요?",
    createOne: "만들기",
    alreadyHaveAccount: "이미 계정이 있으시나요?",
    logInHere: "로그인",
    liveTranslation: "실시간 번역",
    sessionInfo: "세션 정보",
    liveTranscription: "실시간 음성 인식",
    start: "시작",
    stop: "중지",
    speakerAUnderstands: "화자 A 언어",
    speakerBUnderstands: "화자 B 언어",
    webSpeechNotSupported:
      "브라우저에서 실시간 음성 인식을 지원하지 않을 수 있습니다. 기본 녹음 기능을 사용합니다.",
    recording: "녹음중",
    liveTranslationTitle: "실시간 사주 번역",
    liveTranslationSubtitle: "AI 기반 다국어 소통 도구",
    customerLanguageSettings: "고객 언어 설정",
    customerLanguage: "고객 언어",
    customerVoice: "🎤 고객 음성",
    businessVoice: "🎯 업체 음성",
    waitingMessage: "🎧 대기중 - 버튼을 눌러 녹음을 시작하세요",
    recordingMessage: "녹음중 {0} ({1}초 남음)",
    secondsLeft: "초 남음",
    noConversationYet: "💬 아직 대화가 없습니다",
    pressButtonToStart: "위의 버튼을 눌러 녹음을 시작하세요",
    testVoiceInput: "[테스트] 음성 입력",
    testVoiceRecorded: "[테스트] 음성이 정상적으로 입력되었습니다",
    offlineRecordingComplete: "[오프라인] 음성 녹음 완료",
    offlineRecordingSuccess: "[오프라인] 음성이 성공적으로 녹음되었습니다",
    // Home page translations
    heroTitle: "한국의 사주 문화를\n전 세계와 만나다",
    heroSubtitle: "AI 기반 사주 서비스로 한국의 전통 사주 문화를\n전 세계 어디서든 경험하세요",
    heroButton: "사주 보기 시작하기",
    aiServices: "사주 서비스",
    todayFortune: "오늘의 운세",
    sajuAnalysis: "사주 분석",
    compatibility: "궁합 분석",
    nameCreation: "이름 작명",
    popularServices: "인기 사주 서비스",
    recommendedBy: "K-Saju 추천",
    hotDeals: "사주 특가 & 할인",
    aiSajuAnalysis: "AI 사주 분석",
    compatibilityAnalysis: "궁합 분석",
    nameCreationService: "이름 작명",
    tarotCard: "타로 카드",
    todayFortuneService: "오늘의 운세",
    sajuConsultation: "사주 상담",
    dreamInterpretation: "꿈 해몽",
    aiSajuConsultation: "AI 사주 상담",
    compatibilityAnalysisPro: "궁합 분석 전문",
    nameCreationPro: "이름 작명 전문",
    tarotReading: "타로 리딩",
    dreamConsultation: "꿈 해몽 상담",
    fortuneAnalysis: "운세 분석",
    sajuMyeongri: "사주 명리학",
    sajuPackage: "사주 패키지 할인",
    annualSaju: "연간 사주 구독",
    newMemberBenefit: "신규 회원 혜택",
    premiumSaju: "프리미엄 사주",
    businessSaju: "기업용 사주",
    sajuMasterPack: "사주 마스터팩",
    sajuStarterPack: "사주 스타터팩"
  },
  zh: {
    appName: "K-Saju",
    logo: "K-Saju",
    home: "首页",
    messages: "消息",
    signIn: "登录",
    signOut: "登出",
    profile: "个人资料",
    language: "语言",
    customerSupport: "客户支持",
    faq: "常见问题",
    contact: "联系我们",
    safety: "安全",
    about: "关于我们",
    careers: "招聘",
    newsroom: "新闻室",
    investors: "投资者",
    blog: "博客",
    forum: "论坛",
    events: "活动",
    partnerships: "合作伙伴",
    privacy: "隐私政策",
    terms: "服务条款",
    cookies: "Cookie政策",
    compliance: "合规性",
    allRightsReserved: "版权所有。",
    myProfile: "我的资料",
    settings: "设置",
    logout: "登出",
    email: "邮箱",
    password: "密码",
    confirmPassword: "确认密码",
    loading: "加载中...",
    logIn: "登录",
    createAccount: "创建账户",
    or: "或",
    continueWithGoogle: "使用 Google 继续",
    continueWithApple: "使用 Apple 继续",
    continueWithKakao: "使用 Kakao 继续",
    dontHaveAccount: "没有账户？",
    createOne: "创建一个",
    alreadyHaveAccount: "已有账户？",
    logInHere: "登录",
    liveTranslation: "实时翻译",
    sessionInfo: "会话信息",
    liveTranscription: "实时转录",
    start: "开始",
    stop: "停止",
    speakerAUnderstands: "说话者A语言",
    speakerBUnderstands: "说话者B语言",
    webSpeechNotSupported:
      "您的浏览器可能不支持实时语音识别（Web Speech API）。使用基本录音回退功能。",
    recording: "录音中",
    liveTranslationTitle: "实时四柱翻译",
    liveTranslationSubtitle: "AI驱动的多语言沟通工具",
    customerLanguageSettings: "客户语言设置",
    customerLanguage: "客户语言",
    customerVoice: "🎤 客户声音",
    businessVoice: "🎯 商家声音",
    waitingMessage: "🎧 等待中 - 按按钮开始录音",
    recordingMessage: "录音中 {0} ({1}秒剩余)",
    secondsLeft: "秒剩余",
    noConversationYet: "💬 暂无对话",
    pressButtonToStart: "点击上方按钮开始录音",
    testVoiceInput: "[测试] 语音输入",
    testVoiceRecorded: "[测试] 语音成功录制",
    offlineRecordingComplete: "[离线] 录音完成",
    offlineRecordingSuccess: "[离线] 语音成功录制",
    // Home page translations
    heroTitle: "与全世界相遇\n韩国四柱文化",
    heroSubtitle: "通过AI四柱服务体验传统韩国四柱文化\n在世界任何地方",
    heroButton: "开始四柱占卜",
    aiServices: "四柱服务",
    todayFortune: "今日运势",
    sajuAnalysis: "四柱分析",
    compatibility: "缘分分析",
    nameCreation: "起名服务",
    popularServices: "热门四柱服务",
    recommendedBy: "K-Saju推荐",
    hotDeals: "四柱特价&折扣",
    aiSajuAnalysis: "AI四柱分析",
    compatibilityAnalysis: "缘分分析",
    nameCreationService: "起名服务",
    tarotCard: "塔罗牌",
    todayFortuneService: "今日运势",
    sajuConsultation: "四柱咨询",
    dreamInterpretation: "解梦",
    aiSajuConsultation: "AI四柱咨询",
    compatibilityAnalysisPro: "专业缘分分析",
    nameCreationPro: "专业起名",
    tarotReading: "塔罗占卜",
    dreamConsultation: "解梦咨询",
    fortuneAnalysis: "运势分析",
    sajuMyeongri: "四柱命理学",
    sajuPackage: "四柱套餐优惠",
    annualSaju: "年度四柱订阅",
    newMemberBenefit: "新会员优惠",
    premiumSaju: "高级四柱",
    businessSaju: "企业四柱",
    sajuMasterPack: "四柱大师包",
    sajuStarterPack: "四柱入门包"
  },
  ja: {
    appName: "K-Saju",
    logo: "K-Saju",
    home: "ホーム",
    messages: "メッセージ",
    signIn: "サインイン",
    signOut: "サインアウト",
    profile: "プロフィール",
    language: "言語",
    customerSupport: "カスタマーサポート",
    faq: "よくある質問",
    contact: "お問い合わせ",
    safety: "安全性",
    about: "会社概要",
    careers: "採用情報",
    newsroom: "ニュースルーム",
    investors: "投資家向け情報",
    blog: "ブログ",
    forum: "フォーラム",
    events: "イベント",
    partnerships: "パートナーシップ",
    privacy: "プライバシーポリシー",
    terms: "利用規約",
    cookies: "クッキーポリシー",
    compliance: "コンプライアンス",
    allRightsReserved: "全著作権所有。",
    myProfile: "マイプロフィール",
    settings: "設定",
    logout: "ログアウト",
    email: "メールアドレス",
    password: "パスワード",
    confirmPassword: "パスワードの確認",
    loading: "読み込み中...",
    logIn: "ログイン",
    createAccount: "アカウント作成",
    or: "または",
    continueWithGoogle: "Googleで続行",
    continueWithApple: "Appleで続行",
    continueWithKakao: "Kakaoで続行",
    dontHaveAccount: "アカウントをお持ちではありませんか？",
    createOne: "作成する",
    alreadyHaveAccount: "すでにアカウントをお持ちですか？",
    logInHere: "ログイン",
    liveTranslation: "リアルタイム翻訳",
    sessionInfo: "セッション情報",
    liveTranscription: "リアルタイム音声認識",
    start: "開始",
    stop: "停止",
    speakerAUnderstands: "話者A言語",
    speakerBUnderstands: "話者B言語",
    webSpeechNotSupported:
      "お使いのブラウザではリアルタイム音声認識（Web Speech API）をサポートしていない可能性があります。基本録音機能を使用します。",
    recording: "録音中",
    liveTranslationTitle: "リアルタイム四柱翻訳",
    liveTranslationSubtitle: "AI駆動の多言語コミュニケーションツール",
    customerLanguageSettings: "顧客言語設定",
    customerLanguage: "顧客言語",
    customerVoice: "🎤 顧客音声",
    businessVoice: "🎯 事業者音声",
    waitingMessage: "🎧 待機中 - ボタンを押して録音開始",
    recordingMessage: "録音中 {0} ({1}秒残り)",
    secondsLeft: "秒残り",
    noConversationYet: "💬 まだ会話がありません",
    pressButtonToStart: "上のボタンを押して録音を開始してください",
    testVoiceInput: "[テスト] 音声入力",
    testVoiceRecorded: "[テスト] 音声が正常に録音されました",
    offlineRecordingComplete: "[オフライン] 録音完了",
    offlineRecordingSuccess: "[オフライン] 音声が正常に録音されました",
    // Home page translations
    heroTitle: "韓国の四柱文化を\n世界と出会う",
    heroSubtitle: "AI四柱サービスで韓国の伝統四柱文化を\n世界中どこでも体験",
    heroButton: "四柱占いを始める",
    aiServices: "四柱サービス",
    todayFortune: "今日の運勢",
    sajuAnalysis: "四柱分析",
    compatibility: "相性分析",
    nameCreation: "命名サービス",
    popularServices: "人気四柱サービス",
    recommendedBy: "K-Sajuおすすめ",
    hotDeals: "四柱特価&割引",
    aiSajuAnalysis: "AI四柱分析",
    compatibilityAnalysis: "相性分析",
    nameCreationService: "命名サービス",
    tarotCard: "タロットカード",
    todayFortuneService: "今日の運勢",
    sajuConsultation: "四柱相談",
    dreamInterpretation: "夢占い",
    aiSajuConsultation: "AI四柱相談",
    compatibilityAnalysisPro: "プロ相性分析",
    nameCreationPro: "プロ命名",
    tarotReading: "タロットリーディング",
    dreamConsultation: "夢占い相談",
    fortuneAnalysis: "運勢分析",
    sajuMyeongri: "四柱命理学",
    sajuPackage: "四柱パッケージ割引",
    annualSaju: "年間四柱購読",
    newMemberBenefit: "新規会員特典",
    premiumSaju: "プレミアム四柱",
    businessSaju: "ビジネス四柱",
    sajuMasterPack: "四柱マスターパック",
    sajuStarterPack: "四柱スターターパック",
  },
  es: {
    appName: "K-Saju",
    logo: "K-Saju",
    home: "Inicio",
    messages: "Mensajes",
    signIn: "Iniciar sesión",
    signOut: "Cerrar sesión",
    profile: "Perfil",
    language: "Idioma",
    customerSupport: "Atención al Cliente",
    faq: "Preguntas Frecuentes",
    contact: "Contacto",
    safety: "Seguridad",
    about: "Acerca de",
    careers: "Empleos",
    newsroom: "Sala de Prensa",
    investors: "Inversores",
    blog: "Blog",
    forum: "Foro",
    events: "Eventos",
    partnerships: "Socios",
    privacy: "Política de Privacidad",
    terms: "Términos de Servicio",
    cookies: "Política de Cookies",
    compliance: "Cumplimiento",
    allRightsReserved: "Todos los derechos reservados.",
    myProfile: "Mi Perfil",
    settings: "Configuración",
    logout: "Cerrar sesión",
    email: "Correo electrónico",
    password: "Contraseña",
    confirmPassword: "Confirmar contraseña",
    loading: "Cargando...",
    logIn: "Iniciar sesión",
    createAccount: "Crear cuenta",
    or: "O",
    continueWithGoogle: "Continuar con Google",
    continueWithApple: "Continuar con Apple",
    continueWithKakao: "Continuar con Kakao",
    dontHaveAccount: "¿No tienes una cuenta?",
    createOne: "Crear una",
    alreadyHaveAccount: "¿Ya tienes una cuenta?",
    logInHere: "Iniciar sesión",
    liveTranslation: "Traducción en Vivo",
    sessionInfo: "Información de Sesión",
    liveTranscription: "Transcripción en Vivo",
    start: "Iniciar",
    stop: "Detener",
    speakerAUnderstands: "Idioma del Hablante A",
    speakerBUnderstands: "Idioma del Hablante B",
    webSpeechNotSupported:
      "Su navegador puede no soportar transcripción en tiempo real (Web Speech API). Se usa grabación básica como respaldo.",
    recording: "Grabando",
    liveTranslationTitle: "Traducción en Tiempo Real de Cuatro Pilares",
    liveTranslationSubtitle: "Herramienta de comunicación multilingüe impulsada por IA",
    customerLanguageSettings: "Configuración de Idioma del Cliente",
    customerLanguage: "Idioma del Cliente",
    customerVoice: "🎤 Voz del Cliente",
    businessVoice: "🎯 Voz del Negocio",
    waitingMessage: "🎧 Esperando - Presiona un botón para comenzar a grabar",
    recordingMessage: "Grabando {0} ({1} segundos restantes)",
    secondsLeft: "segundos restantes",
    noConversationYet: "💬 Aún no hay conversación",
    pressButtonToStart: "Presiona un botón arriba para comenzar a grabar",
    testVoiceInput: "[Prueba] Entrada de voz",
    testVoiceRecorded: "[Prueba] Voz grabada exitosamente",
    offlineRecordingComplete: "[Sin conexión] Grabación completa",
    offlineRecordingSuccess: "[Sin conexión] Voz grabada exitosamente",
    // Home page translations
    heroTitle: "Conoce la Cultura Saju\nCoreana con el Mundo",
    heroSubtitle: "Experimenta la cultura tradicional Saju coreana\nen cualquier parte del mundo con servicios Saju basados en IA",
    heroButton: "Comenzar Lectura Saju",
    aiServices: "Servicios Saju",
    todayFortune: "Fortuna de Hoy",
    sajuAnalysis: "Análisis Saju",
    compatibility: "Análisis de Compatibilidad",
    nameCreation: "Creación de Nombres",
    popularServices: "Servicios Saju Populares",
    recommendedBy: "Recomendado por K-Saju",
    hotDeals: "Ofertas Especiales Saju & Descuentos",
    aiSajuAnalysis: "Análisis Saju IA",
    compatibilityAnalysis: "Análisis de Compatibilidad",
    nameCreationService: "Creación de Nombres",
    tarotCard: "Tarot",
    todayFortuneService: "Fortuna de Hoy",
    sajuConsultation: "Consulta Saju",
    dreamInterpretation: "Interpretación de Sueños",
    aiSajuConsultation: "Consulta Saju IA",
    compatibilityAnalysisPro: "Análisis de Compatibilidad Pro",
    nameCreationPro: "Creación de Nombres Pro",
    tarotReading: "Lectura de Tarot",
    dreamConsultation: "Consulta de Sueños",
    fortuneAnalysis: "Análisis de Fortuna",
    sajuMyeongri: "Saju Myeongri",
    sajuPackage: "Paquete Saju con Descuento",
    annualSaju: "Suscripción Anual Saju",
    newMemberBenefit: "Beneficio Nuevo Miembro",
    premiumSaju: "Saju Premium",
    businessSaju: "Saju Empresarial",
    sajuMasterPack: "Paquete Maestro Saju",
    sajuStarterPack: "Paquete Inicial Saju",
  },
};

type I18nContextValue = {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
  availableLanguages: Language[];
};

const I18nContext = createContext<I18nContextValue | null>(null);

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<Language>(() => {
    const stored = localStorage.getItem("app.lang") as Language | null;
    if (stored && ["en", "ko", "zh", "ja", "es"].includes(stored))
      return stored as Language;
    const nav = navigator.language?.toLowerCase() ?? "en";
    if (nav.startsWith("ko")) return "ko";
    if (nav.startsWith("zh")) return "zh";
    if (nav.startsWith("ja")) return "ja";
    if (nav.startsWith("es")) return "es";
    return "en";
  });

  useEffect(() => {
    localStorage.setItem("app.lang", language);
  }, [language]);

  const setLanguage = useCallback((lang: Language) => {
    setLanguageState(lang);
  }, []);

  const t = useCallback(
    (key: string) => {
      const table = TRANSLATIONS[language] ?? TRANSLATIONS.en;
      return table[key] ?? key;
    },
    [language]
  );

  const value = useMemo<I18nContextValue>(
    () => ({
      language,
      setLanguage,
      t,
      availableLanguages: ["en", "ko", "zh", "ja", "es"],
    }),
    [language, setLanguage, t]
  );

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) {
    console.error(
      "useI18n called outside I18nProvider - falling back to English"
    );
    // Return fallback context
    return {
      language: "en" as const,
      setLanguage: () => {},
      t: (key: string) => {
        const fallbacks: Record<string, string> = {
          appName: "K-Saju",
          logo: "K-Saju",
          home: "Home",
          messages: "Messages",
          signIn: "Sign in",
          signOut: "Sign out",
          profile: "Profile",
          language: "Language",
          customerSupport: "Customer Support",
          faq: "FAQ",
          contact: "Contact",
          safety: "Safety",
          about: "About",
          careers: "Careers",
          newsroom: "Newsroom",
          investors: "Investors",
          blog: "Blog",
          forum: "Forum",
          events: "Events",
          partnerships: "Partnerships",
          privacy: "Privacy Policy",
          terms: "Terms of Service",
          cookies: "Cookies Policy",
          compliance: "Compliance",
          allRightsReserved: "All rights reserved.",
          myProfile: "My Profile",
          settings: "Settings",
          logout: "Log out",
          liveTranslation: "Live Translation",
          liveTranslationTitle: "Real-time Translation",
          liveTranslationSubtitle: "AI-powered multilingual communication tool",
          customerLanguageSettings: "Customer Language Settings",
          customerLanguage: "Customer Language",
          customerVoice: "🎤 Customer Voice",
          businessVoice: "🎯 Business Voice",
          waitingMessage: "🎧 Waiting - Press a button to start recording",
          recordingMessage: "Recording {0} ({1} seconds left)",
          secondsLeft: "seconds left",
          noConversationYet: "💬 No conversation yet",
          pressButtonToStart: "Press a button above to start recording",
          stop: "Stop",
          webSpeechNotSupported: "Your browser may not support real-time transcription (Web Speech API). Basic recording fallback is used.",
          testVoiceInput: "[Test] Voice input",
          testVoiceRecorded: "[Test] Voice successfully recorded",
          offlineRecordingComplete: "[Offline] Recording complete",
          offlineRecordingSuccess: "[Offline] Voice successfully recorded",
        };
        return fallbacks[key] || key;
      },
      availableLanguages: ["en", "ko", "zh", "ja", "es"] as const,
    };
  }
  return ctx;
}
